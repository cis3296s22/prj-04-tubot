<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: generateGroups.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: generateGroups.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const { Client, Intents, MessageEmbed, MessageReaction } = require('discord.js');
const client = new Client({ intents: [Intents.FLAGS.GUILDS, Intents.FLAGS.GUILD_MESSAGES] });

/** 
 * @module generateGroups 
*/
/** Generates random groups
 * @alias module:generateGroups~generateGroups
 * @param splitMessage
 * @param message
 */
function generateGroups(splitMessage, message) {
    //Message to inform user how to use the command
    const groupEmbed = new MessageEmbed()
    .setTitle("How to generate groups")
    .setDescription("Type in the number of groups you want to generate and the name\n"
     +"**Example: $tu generateGroups 3 Lab1**");


    const {guild} = message;
    const { Permissions } = require('discord.js');
    //If just command send instructions
    if (!splitMessage[2]) {//Check arguments
        message.channel.send({ embeds: [groupEmbed] });
    //If number of groups is there but no names tell user
    } else if(!splitMessage[3]){
        message.reply("Please include a name for the groups");
    //Otherwise we will execute the code
    } else if(!splitMessage[4]){
        //Set a variable for the everybody role
        const everyoneRole = guild.roles.everyone;

        //Loop for the amount of groups wanted to make
        for(let i = 0; i&lt;splitMessage[2]; i++){
            //Make a role that has i appended to the end
            message.guild.roles.create({
                name: splitMessage[3] + "_Group" + (i+1),
            
            })
            //Then we will make a private channel for the role
            .then((role) => {
                message.guild.channels.create(splitMessage[2] + "_Group" + (i+1) , {
                    type: 0, // 0 -> text
                    permissionOverwrites: [
                        {type: 'role', id: role.id, allow: [Permissions.FLAGS.VIEW_CHANNEL]},
                        {type: 'role', id: everyoneRole.id, deny: [Permissions.FLAGS.VIEW_CHANNEL]},
                    ],
                })
                /*.then((channel) => { // Puts it into main text channel category
                    const category = '937897944227667978' // Category ID
                    channel.setParent(category)
                })*/
                
            })
        }
        //Inform user it executed correctly
        message.reply("The groups have been created");
    } else{ //Case for too many arguments
        message.reply("Too many arguments");
    }
    
}

module.exports = { generateGroups };</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-channel.html">channel</a></li><li><a href="module-generateGroups.html">generateGroups</a></li><li><a href="module-help.html">help</a></li><li><a href="module-index.html">index</a></li><li><a href="module-notification.html">notification</a></li><li><a href="module-poll.html">poll</a></li><li><a href="module-reminder.html">reminder</a></li><li><a href="module-roles.html">roles</a></li></ul><h3>Classes</h3><ul><li><a href="module-index-client.html">client</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Tue Apr 19 2022 19:21:35 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
