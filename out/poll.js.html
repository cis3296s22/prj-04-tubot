<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: poll.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: poll.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const { Client, Intents, MessageEmbed, MessageReaction } = require('discord.js')
/** @module poll */

/** @alias module:poll~poll */
function poll(splitMessage, message) {
    const nums = ["1️⃣", "2️⃣", "3️⃣", "4️⃣", "5️⃣", "6️⃣", "7️⃣", "8️⃣", "9️⃣"];
    //Error message if too few arguments ar given
    const pollEmbed = new MessageEmbed()
        .setTitle("How to make a poll")
        .setDescription("Ask a question for a yes or no poll\n" +
            "**Example: $tu poll Should we have class today?**\n\n" +
            "Or Put arguments at the end of the question seperated by a + for multiple choice poll\n" +
            "**Example: $tu poll Best Programming Language? + Java + Python + C**");
    if (!splitMessage[2]) {//Check arguments
        message.channel.send({ embeds: [pollEmbed] });
    } else {
        //Join the poll back to gether
        let pollArgs = splitMessage.slice(2).join(" ");
        //Split up the choices
        let choices = pollArgs.split('+');
        if (!choices[1]) { //If no choices, make it a yes or no poll
            message.channel.send("📋**" + pollArgs + "**\n").then(messageReaction => {
                messageReaction.react("👍");
                messageReaction.react("👎");
                //Delete message after poll is made
                message.delete(5000);
            });

        } else if (!choices[10]) { //If there are choices (less than 10), give a reaction to each choice
            var pollReply = "";
            //Set the title of the poll
            pollReply += "📋**" + choices[0] + "**\n";
            //Loop through the options and assign a reaction to each
            for (var i = 1; i &lt; choices.length; i++) {
                pollReply += nums[i - 1] + ": " + choices[i] + "\n";
            }
            //Then reply with all the reactions so users can see
            message.channel.send(pollReply).then(messageReaction => {
                for (var i = 1; i &lt; choices.length; i++) {
                    messageReaction.react(nums[i - 1]);
                }
                //Delete message after poll is made
                message.delete(5000);
            });
        }
    }
}

/** @alias module:poll~pollTest1 */
function pollTest1(splitMessage , message) {
    const poll = splitMessage[2]
    message.channel.send("Simple Poll created!");
}

/** @alias module:poll~pollTest2 */
function pollTest2(splitMessage , message) {
    const poll = splitMessage[2]
    message.channel.send("Multiple Choice Poll created!");
}

module.exports = { poll, pollTest1, pollTest2 };</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-channel.html">channel</a></li><li><a href="module-generateGroups.html">generateGroups</a></li><li><a href="module-help.html">help</a></li><li><a href="module-notification.html">notification</a></li><li><a href="module-poll.html">poll</a></li><li><a href="module-reminder.html">reminder</a></li><li><a href="module-roles.html">roles</a></li></ul><h3>Classes</h3><ul><li><a href="Client.html">Client</a></li></ul><h3>Global</h3><ul><li><a href="global.html#channel">channel</a></li><li><a href="global.html#generateGroups">generateGroups</a></li><li><a href="global.html#help">help</a></li><li><a href="global.html#notification">notification</a></li><li><a href="global.html#poll">poll</a></li><li><a href="global.html#reminder">reminder</a></li><li><a href="global.html#roles">roles</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Sun Apr 17 2022 06:18:44 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
